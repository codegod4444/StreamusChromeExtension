@import "color";
@import "rangeInput";
@import "transition";
@import "utility";

.volumeArea-volumeButton.is-muted {
    color: @alizarin;

    &:hover {
        color: @darkAlizarin;
    }
}

//  TODO: Make this more generic once Google Chrome fixes this bug: https://code.google.com/p/chromium/issues/detail?id=341071
.volumeArea-slidePanel {
    @panelWidth: 40px;
    @transitionTime: 250ms;
    width: @panelWidth;
    //  IMPORTANT: This height:0 is REQUIRED because transitions do not work when height is auto.
    height: 0;
    opacity: 0;
    transition: opacity @transitionTime @transition-timingFunction-snap, height @transitionTime @transition-timingFunction-snap;
    align-items: center;
    z-index: 1;
    //  Prevent hover events from firing on children when it isn't visible.
    pointer-events: none;

    // CSS triangle
    &:before {
        content: ' ';
        width: @panelWidth / 4;
        height: @panelWidth / 4;
        background-color: inherit;
        position: absolute;
        left: 0;
        right: 0;
        margin: 0 auto;
        top: -1 * @panelWidth / 8;
        transform: rotate(45deg);
    }

    &.is-expanded {
        @expandedPanelHeight: 100px;
        height: @expandedPanelHeight;
        opacity: 1;
        pointer-events: all;

        .rangeInput {
            @volumeRangeSize: @expandedPanelHeight - (@rangeInputMargin * 2);
            width: @volumeRangeSize;
            right: -@volumeRangeSize;
            opacity: 1;
        }
    }

    .rangeInput {
        //  These values need to be explicitly set because element has been rotated so can't rely on width/height: 100%
        width: 0;
        right: 0;
        opacity: 0;
        height: @rangeInputSize;
        transition: 
            width @transitionTime @transition-timingFunction-snap, 
            right @transitionTime @transition-timingFunction-snap,
            opacity @transitionTime @transition-timingFunction-snap;
    }
}